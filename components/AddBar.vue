<template>
  <div class="add-bar">
    <button @click="$emit('addElement', 'image')">ï¼‹ ç”»åƒè¿½åŠ </button>
    <button @click="$emit('addElement', 'text')">ï¼‹ ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ </button>
    <button @click="$emit('addElement', 'rect')">ï¼‹ å››è§’å½¢è¿½åŠ </button>
    <button @click="$emit('saveSlides')">ğŸ’¾ ä¿å­˜</button>
    <button @click="() => fileInput.click()">ğŸ“‚ é–‹ã</button>
    <button @click="$emit('newSlides')">ğŸ†• æ–°è¦</button>
    <button @click="$emit('localSave')">ğŸ’¾ ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜</button>
    <input type="file" ref="fileInput" style="display:none" accept="application/json" @change="onFileChange" />
  </div>
</template>
<script setup>
import { ref } from 'vue'
const fileInput = ref(null)
const emit = defineEmits(['addElement', 'saveSlides', 'openSlides', 'newSlides'])
function onFileChange(e) {
  const file = e.target.files[0]
  if (file) {
    const reader = new FileReader()
    reader.onload = (evt) => {
      emit('openSlides', evt.target.result)
    }
    reader.readAsText(file)
  }
  e.target.value = '' // åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€£ç¶šã§é¸æŠã§ãã‚‹ã‚ˆã†ã«
}
</script>
<style>
@import '../assets/common.css';
</style> 